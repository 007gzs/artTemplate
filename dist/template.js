!function(e){var n=function(e,n){return"string"==typeof n?a[e]=t(n,{filename:e}):r(e,n)};n.version="3.0.0",n.render=function(e,n){n=n||{};var r;if(n.cache){var i=n.filename;if(!i)throw new Error('"cache" option requires "filename".');r=a[i]||(a[i]=t(e,n))}else r=t(e,n);return r(n)};var r=n.renderByFilename=function(e,r){var t=n.get(e)||p({filename:e,name:"Render Error",message:"Template not found"});return t(r)},t=n.compile=function(e,n){function r(r){try{return new i(r,a)+""}catch(o){return n.debug?p(o)():(n.debug=!0,t(e,n)(r))}}n=n||{};var a=n.filename||"";try{var i=b(e,n)}catch(o){return o.filename=a,o.name="Syntax Error",p(o)}return r.prototype=i.prototype,r.toString=function(){return i.toString()},r},a=n.cache={};n.defaults={openTag:"<%",closeTag:"%>",escape:!0,compress:!1,parser:null},n.config=function(e,r){n.defaults[e]=r};var i=function(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?i(e.call(e)):""),e},o={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},l=function(e){return o[e]},c=function(e){return i(e).replace(/&(?![\w#]+;)|[<>"']/g,l)},u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},f=function(e,n){var r,t;if(u(e))for(r=0,t=e.length;t>r;r++)n.call(e,e[r],r,e);else for(r in e)n.call(e,e[r],r)},s=n.helpers={$include:r,$string:i,$escape:c,$each:f};n.helper=function(e,n){s[e]=n},n.onerror=function(n){var r="Template Error\n\n";for(var t in n)r+="<"+t+">\n"+n[t]+"\n\n";e.console&&console.error(r)},n.get=function(e){var r;if(a.hasOwnProperty(e))r=a[e];else{var i=n.loadTemplate(e);"string"==typeof i&&(r=a[e]=t(i,{filename:e}))}return r},n.loadTemplate=function(n){if("document"in e){var r=document.getElementById(n);if(r)return(r.value||r.innerHTML).replace(/^\s*|\s*$/g,"")}};var p=function(e){return n.onerror(e),function(){return"{Template Error}"}},d=s.$each,$="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",g=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,m=/[^\w$]+/g,h=new RegExp(["\\b"+$.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),v=/^\d[^,]*|,\d[^,]*/g,y=/^,+|,+$/g,w=function(e){return e.replace(g,"").replace(m,",").replace(h,"").replace(v,"").replace(y,"").split(/^$|,+/)},b=function(e,r){function t(e){return v+=e.split(/\n/).length-1,$&&(e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),e&&(e=E[1]+i(e)+E[2]+"\n"),e}function a(e){var n=v;if(p?e=p(e):c&&(e=e.replace(/\n/g,function(){return v++,"$line="+v+";"})),0===e.indexOf("=")){var r=!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),r&&g){var t=e.replace(/\s*\([^\)]+\)/,"");s.hasOwnProperty(t)||/^(include|print)$/.test(t)||(e="$escape("+e+")")}else e="$string("+e+")";e=E[1]+e+E[2]}return c&&(e="$line="+n+";"+e),d(w(e),function(e){if(e&&!y.hasOwnProperty(e)){var n;"print"===e?n=S:"include"===e?(b.$include=s.$include,n=P):(n="$data."+e,s.hasOwnProperty(e)&&(b[e]=s[e],n=0===e.indexOf("$")?"$helpers."+e:n+"===undefined?$helpers."+e+":"+n)),x+=e+"="+n+",",y[e]=!0}}),e+"\n"}function i(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}var o=n.defaults;for(var l in o)void 0===r[l]&&(r[l]=o[l]);var c=r.debug,u=r.openTag,f=r.closeTag,p=r.parser,$=r.compress,g=r.escape,m=e,h="",v=1,y={$data:1,$filename:1,$helpers:1,$out:1,$line:1},b={},x="'use strict';var $helpers=this,"+(c?"$line=0,":""),T="".trim,E=T?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],O=T?"$out+=text;return $out;":"$out.push(text);",S="function(){var text=''.concat.apply('',arguments);"+O+"}",P="function(filename,data){data=data||$data;var text=$helpers.$include(filename,data,$filename);"+O+"}";d(m.split(u),function(e){e=e.split(f);var n=e[0],r=e[1];1===e.length?h+=t(n):(h+=a(n),r&&(h+=t(r)))}),m=h,c&&(m="try{"+m+"}catch(e){"+"throw {"+"filename:$filename,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+i(e)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')"+"};"+"}"),m=x+E[0]+m+"return new String("+E[3]+");";try{var j=new Function("$data","$filename",m);return j.prototype=b,j}catch(A){throw A.temp="function anonymous($data,$filename) {"+m+"}",A}};"function"==typeof define?define(function(){return n}):"undefined"!=typeof exports?module.exports=n:e.template=n}(this.window||global);