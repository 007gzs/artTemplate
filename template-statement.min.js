(function(b){b.openTag="{";b.closeTag="}";b.statement=function(a){var a=a.replace(/^\s/,""),d=a.split(" "),c=d.shift(),f=b.keywords[c];if(f)return d=d.join(" "),f.call(a,d);throw{message:c};};b.keywords={"if":function(a){return"if("+a+"){"},"else":function(a){a=a.split(" ");a="if"===a.shift()?" if("+a.join(" ")+")":"";return"}else"+a+"{"},"/if":function(){return"}"},each:function(a){var a=a.split(" "),d=a[0],c=a[2],b=a[3],g=a[4],e="";"as"!==a[1]&&(d="[]");c&&(e+=c);b&&(e+=","+b);g&&(e+=","+g);return"$each("+d+",function("+e+"){"},"/each":function(){return"});"},echo:function(a){return"="+a},include:function(a){a=a.split(" ");return"=include("+a[0]+","+a[1]+")"}};b.method("$each",function(a,b){if(h(a))i.call(a,b);else for(var c in a)b.call(a,a[c],c,a)});var i=b.method("$forEach"),j=Object.prototype.toString,h=Array.isArray||function(a){return"[object Array]"===j.call(a)}})(template);